<div class="chart-container">
  <div class="chart-header">
    <h3>Appointment Trends</h3>
    <div class="period-selector">
      <button
        class="period-btn"
        [class.active]="selectedPeriod === 'daily'"
        (click)="onPeriodChange('daily')">
        Daily
      </button>
      <button
        class="period-btn"
        [class.active]="selectedPeriod === 'weekly'"
        (click)="onPeriodChange('weekly')">
        Weekly
      </button>
      <button
        class="period-btn"
        [class.active]="selectedPeriod === 'monthly'"
        (click)="onPeriodChange('monthly')">
        Monthly
      </button>
    </div>
  </div>

  <div class="chart-body" *ngIf="!loading && !error">
    <canvas
      baseChart
      [data]="lineChartData"
      [options]="lineChartOptions"
      [type]="lineChartType">
    </canvas>
  </div>

  <div class="loading-state" *ngIf="loading">
    <div class="spinner"></div>
    <p>Loading trends data...</p>
  </div>

  <div class="error-state" *ngIf="error">
    <p class="error-message">{{ error }}</p>
    <button class="retry-btn" (click)="loadTrendsData()">Retry</button>
  </div>
</div>
